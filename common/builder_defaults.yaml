common:
    branches:
        avail:
            # branch-name: [gluon-tag, site-tag]
            experimental:   [false, false]
            beta:           [true, false]
            stable:         [true, true]
        build: stable
        noarg: experimental
    communities:
        mz: 'mainz'
        wi: 'wiesbaden'
    pycmd: 'python3'
    mkcmd: 'make -j7 V=sss'
    targets:
        - 'ar71xx-generic'
        - 'ar71xx-nand'
        - 'brcm2708-bcm2708'
        - 'brcm2708-bcm2709'
        - 'mpc85xx-generic'
        - 'sunxi'
        - 'x86-64'
        - 'x86-generic'
        - 'x86-kvm_guest'
gluon:
    remote: 'https://github.com/freifunk-gluon/gluon.git'
    local:
        dir: &L_DIR !loc_join ['home_dir', 'gluon_builder']
        mz: &B_MZ !loc_join [*L_DIR, 'mz']
        wi: &B_WI !loc_join [*L_DIR, 'wi']
site:
    remote: 'https://github.com/freifunk-mwu/site-ffmwu.git'
    local:
        mz: !loc_join [*B_MZ, 'site']
        wi: !loc_join [*B_WI, 'site']
    generator_settings: 'settings.yaml'
publish:
    autosign_key: !loc_join ['home_dir', '.ecdsa', !str_join ['hostname', '.prv']]
    http_root_dir: &H_DIR !loc_join ['/var/www/html']
    archive_dir: !loc_join [*H_DIR, '_archive']
    http_fw_dir: &F_DIR !loc_join [*H_DIR, 'firmware']
    library_dir: !loc_join [*F_DIR, '_library']
prepare:
    bconf:
        out: !loc_join ['call_dir', 'bconf']
        tpl: !loc_join ['call_dir', 'common', 'bconf.tpl']
    info: 'info.json'
    stage_dir: !loc_join [*H_DIR, '_stage']

